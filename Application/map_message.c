#include "map_message.h"
#include "speed_ctrl.h"



//地图信息{结点名字，标志位，角度，长度（厘米），速度，功能函数}
//最后的参数，1为普通路线，其他均头文件有注释
//如/*S1	 1*/	{N3,FLEFT|M2L,160,280,100,1},	代表从，“寻右线，线数目由多变小认为到达路口”  “S1点指向N3点的角度为160度”，“长度为280cm，推荐速度为100”，“普通路口”
NODE Node[126]={
/*S1	 1*/	{N3,CLEFT|DLEFT|MUL2MUL,160,320,SPEED4,NONE},

/*P1 	 2*/	{N1,CRIGHT,180,20/*25*/,SPEED25,NONE},

/*N1 	 3*/	{P1,RIGHT_LINE,0,20,SPEED1,UpStage},{B2,NO,137,30/*40*/,SPEED25,Hill},{B1,NO,180,35,SPEED1,Bridge},

/*B1	 4*/	{P2,LEFT_LINE,180,60,SPEED1,UpStage},{N1,RIGHT_LINE|MCLEFT,0,5/*5*/,SPEED1,NONE},

/*B2	 5*/	{N1,LEFT_LINE|CRIGHT|L_follow,-40,20,SPEED1,NONE},{N4,CLEFT|MCLEFT|LEFT_LINE,140,10,SPEED2,NONE},

/*B3	 6*/	{N2,RIGHT_LINE|CLEFT|STOPTURN,-150,60,SPEED1,NONE},{N4,CLEFT,30,70,SPEED1,NONE},

/*N2 	 7*/	{B3,NO,30,80,SPEED1,BLBS}, {P2,RIGHT_LINE,180,1,SPEED0,UpStageP2},{B1,RESTMPUZ|RIGHT_LINE,0,35,SPEED1,Bridge},
	
/*P2 	 8*/	{N2,CLEFT|RIGHT_LINE,0,25,SPEED1,NONE},		

/*S2     9*/    {N6,MUL2MUL|RIGHT_LINE|CLEFT|STOPTURN,45,100,SPEED4,NONE}, 

/*P3	 10*/	{N3,DRIGHT|RIGHT_LINE,180,260/*290*/,SPEED3,NONE},	

/*N3 	 11*/	{S1,NO,-25,320/*160*/,SPEED4,View}, {P3,LEFT_LINE,0,210/*220*/,SPEED4,UpStage},{N10,DLEFT|RIGHT_LINE,90,100,DOOR}, {N8,DRIGHT|DLEFT,140,80,SPEED0,DOOR}, {N4,LEFT_LINE|Temp_R|/*MUL2MUL*/CLEFT,180,130,SPEED2,NONE},	//50	
	
/*N4 	 12*/	{B2,NO,-40,40,SPEED1,Hill},{N5,LiuShui|DRIGHT|RIGHT_LINE|Temp_L,180,130,SPEED3,NONE}, {N3,DLEFT|Temp_R|LEFT_LINE,0,150,SPEED3,NONE},{B3,LEFT_LINE,-144,50/*70*/,SPEED1,BLBS},			
	
/*N5 	13*/	{N4,RIGHT_LINE|Temp_L|MUL2MUL,0,150,SPEED3,NONE}, {N8,CLEFT|DLEFT,35,90/*80*/,SPEED0,DOOR}, {N12,AWHITE|RESTMPUZ,90,90/*100*/,SPEED0,DOOR},{N6,LEFT_LINE|CRIGHT,180,140,SPEED3,NONE},

/*N6 	14*/	{N5,DLEFT|RIGHT_LINE,0,140-20,SPEED3,NONE},{C1,CLEFT|DLEFT,50,150,SPEED1,NONE},{P4,LiuShui,180,70/*80*/,SPEED2,UpStage},{S2,NO,-140,100,SPEED4,View},
	
/*P4 	15*/	{N6,LEFT_LINE|CRIGHT/*|CLEFT*/|NOTURN,0,30/*50*/,SPEED3,NONE},

/*N7 	16*/	{P5,NO,90,7,SPEED1,UpStage}, {B9},{B8,LEFT_LINE|NOTURN,10,1,SPEED1,QQB},	

/*P5 	17*/	{N7,DLEFT|DRIGHT|AWHITE|STOPTURN,-90,1,SPEED1,NONE},	

/*B8    18*/ 	{N7},{N9,LEFT_LINE|MUL2MUL,160,5,SPEED0-7,NONE},

/*B9    19*/ 	{N7,DLEFT|MORELED|STOPTURN,10,55,SPEED1,NONE},{N9},

/*N8 	20*/	{N3,CLEFT|LEFT_LINE|MUL2MUL,-45,65/*80*/,SPEED0,DOOR}, {N10,MUL2MUL,33,180,SPEED3,NONE}, {N12,MUL2MUL,140,180,SPEED3,NONE}, {N5,STOPTURN|CLEFT,-140,160,SPEED0,DOOR},	
	
/*C1 	21*/	{N6,CRIGHT,-50,151,SPEED1,NONE}, {C2,DRIGHT|DLEFT,125,30,SPEED1,NONE},	

/*C2 	22*/	{C1,CLEFT,170,154,SPEED1,NONE}, {N13,DRIGHT|DLEFT|CLEFT|CRIGHT|DRIFT,120,20,SPEED1,NONE},

/*C3 	23*/	{N14,DLEFT|STOPTURN,90,40,SPEED2,NONE}, {N9,RIGHT_LINE|MUL2SING,180,30/*40*/,SPEED2,NONE},	

/*N9 	24*/	{C3,DLEFT|CLEFT,0,50,SPEED2,NONE}, {N10,DLEFT|DRIGHT|RIGHT_LINE,180,140/*180*/,SPEED3,NONE}, {B8},{B9,LEFT_LINE|NOTURN,180,1,SPEED1,QQB},	
	
/*N10	25*/	{N9,CRIGHT,0,180,SPEED3,NONE}, {N15,DRIGHT|STOPTURN,90,5,SPEED2,NONE}, {N12,DRIGHT|RIGHT_LINE,-180,245,SPEED1,NONE}, {N8,LEFT_LINE|CLEFT|CRIGHT|DLEFT|DRIGHT,-150,180,SPEED3,NONE}, {N3,DRIGHT|DLEFT,-90,90,SPEED0,DOOR}, {N11,NO,180,120,SPEED1,SM},
	
/*N12	26*/	{N11,LEFT_LINE,0,100,SPEED1,SM}, {N16,DRIGHT|STOPTURN,90,20,SPEED2,NONE}, {N13,CLEFT/*|MORELED*/|RIGHT_LINE,180,100/*120*/,SPEED3,NONE}, {N5,AWHITE|RIGHT_LINE|RESTMPUZ,-90,200,SPEED4,NONE}, {N8,CRIGHT|DLEFT,-43,180,60,1},	{P6,LiuShui,180,240,64,UpStage},

/*N13   27*/	{N12,DLEFT|DRIGHT|LiuShui|RIGHT_LINE,0,120,SPEED3,NONE}, {N18,CRIGHT|CLEFT,45,190,SPEED3,NONE}, {P6,LiuShui|RIGHT_LINE,180,100/*60*/,SPEED2,UpStage}, {C2,NONE,NONE,NONE,NONE,NONE},	
	
/*P6 	28*/	{N13,MORELED|LEFT_LINE,0,50/*70*/,SPEED3,NONE},		

/*N14	29*/	{C3,DRIGHT|CRIGHT,-90,5,SPEED1,NONE}, {C7,DLEFT|STOPTURN,90,100,SPEED3,UNDER}, {S3,NO,-180,2,SPEED1,View1},				

/*S3 	30*/	{N14,INGNORE,180,1,-SPEED0,BACK},		

/*S4	31*/	{N15,INGNORE,0,1,-SPEED0,BACK},	

/*N15   32*/	{S4,NO,0,2,SPEED1,View1}, {C5,DLEFT,90,30,SPEED2,NONE}, {N10,DLEFT|DRIGHT,-90,10,SPEED2,NONE},		
	
/*S5 	33*/	{N16,INGNORE,0,1,-SPEED0,BACK},	

/*C4 	34*/	{C8,DRIGHT|CRIGHT|STOPTURN,90,90/*100*/,SPEED2,UNDER},{N20,MUL2SING,138,260,SPEED4,NONE},			

/*C5 	35*/	{N15,DLEFT|STOPTURN,-90,30,SPEED2,NONE},{N18,DLEFT|CLEFT,180,350,SPEED4,NONE},

/*B4    36*/    {C5,DRIGHT,0,145,SPEED1,NONE},{N18,DLEFT|CLEFT|RESTMPUZ,180,100,SPEED1,NONE},

/*B5	37*/  	{N18,DRIGHT,0,90,SPEED3,NONE},{N19,DRIGHT,180,60/*80*/,SPEED3,NONE},
	
/*B6    38*/    {N20,CRIGHT|DRIGHT|RESTMPUZ|LEFT_LINE,0,70/*70*/,SPEED2,NONE},{N22,DRIGHT|STOPTURN|RESTMPUZ,180,80,SPEED3,NONE}, 

/*B7    39*/    {N22,DLEFT|RESTMPUZ,0,140/*150*/,SPEED3,NONE},{C6,DLEFT,180,100,SPEED3,NONE},

/*N16   40*/    {S5,NO,0,2,SPEED1,View1}, {N12,DLEFT|DRIGHT,-90,15,SPEED2,NONE}, {N18,DRIGHT|RIGHT_LINE,90,20,SPEED2,NONE},
	
/*N18	41*/	{C5,DRIGHT|CRIGHT,0,350,SPEED3,NONE}, {B5,RIGHT_LINE,180,90/*80*/,SPEED3,Hill}, {N16,DLEFT|CLEFT|STOPTURN,-90,20,SPEED2,NONE},	
	
/*N19	42*/	{B5,NO,0,110,SPEED3,Hill}, {C6,DRIGHT|CRIGHT,90,40/*50*/,SPEED2,NONE},{N13,CRIGHT},	

/*P7 	43*/	{N20,MCLEFT|RIGHT_LINE|STOPTURN,180,5,SPEED1,NONE},							

/*N20   44*/	{C4,CLEFT|MCLEFT|STOPTURN,-42,200/*220*/,SPEED4,NONE},{P7,LEFT_LINE|RESTMPUZ,0,SPEED2,SPEED0,BHM}, {B6,NO,180,70,SPEED2,SM},
	
/*N22	45*/	{C9,DLEFT,90,10/*22*/,SPEED1,NONE},{B7,NO,180,160,SPEED3,Hill},{B6,RESTMPUZ,0,55,SPEED1,SM},	

/*C6 	46*/	{B7,RESTMPUZ,0,75/*65*/,SPEED3,Hill},{N19,DLEFT,-90,50,SPEED3,NONE},						

/*C7	47*/	{N14,DRIGHT|CRIGHT|STOPTURN,-90,1/*220*/,SPEED3,UNDER}, {C8,DLEFT,180,120,SPEED4,NONE},				

/*C8 	48*/	{C7,STOPTURN|DRIGHT|CRIGHT|RESTMPUZ,0,100/*120*/,SPEED4,NONE}, {C4,MCRIGHT|CRIGHT|RESTMPUZ,-90,10,SPEED0,UNDER},				
 
/*C9	49*/	{N22,DLEFT|DRIGHT|AWHITE|STOPTURN,-90,5/*10*/,SPEED1,NONE}, {P8,NO,180,210/*230*/,SPEED4,BSoutPole},{G1,NO,180,120,SPEED3,NONE},

/*P8 	50*/	{C9,DRIGHT,0,210/*230*/,SPEED4,NONE},{G1,NO,0,120,SPEED3,NONE},

/*N11   51*/    {N10,LEFT_LINE|DLEFT,0,100,SPEED3,NONE},{N12,RIGHT_LINE|AWHITE|DRIGHT,180,100,SPEED25,NONE},

/*G1     52*/   {C9,DRIGHT|CRIGHT,0,120,SPEED25,NONE},{P8,RESTMPUZ,180,120,SPEED3,BSoutPole}
};

//每个节点相邻结点的数目
//  1, 1, 3, 2, 2, 2, 3, 1, 1, 1,
//	5, 4, 4, 4, 1, 3, 1, 2, 2, 4, 
//	2, 2, 2, 4, 5, 5, 4, 1, 3, 1,
//	1, 3, 1, 2, 2, 2, 2, 2, 2, 3, 
//	3, 3, 1, 3, 3, 2, 2, 2, 2, 1
uint8_t ConnectionNum[52] = {	
	1, 1, 3, 2, 2, 2, 3, 1, 1, 1,
	5, 4, 4, 4, 1, 3, 1, 2, 2, 4, 
	2, 2, 2, 4, 6, 6, 4, 1, 3, 1,
	1, 3, 1, 2, 2, 2, 2, 2, 2, 3, 
	3, 3, 1, 3, 3, 2, 2, 2, 3, 2,
	2, 2
};
//   0, 1, 2, 5, 7, 9, 11, 14, 15, 16,
//	17, 22, 26, 30, 34, 35, 38, 39, 41, 43,
//	47, 49, 51, 53, 57, 62, 67, 71, 72, 75,
//	76, 77, 80, 81, 83, 85, 87, 89, 91, 93,
//	96, 99, 102, 103, 106, 109, 111, 113, 115, 117
//每个节点的相邻结点的首地址
uint8_t Address[53] = {
	0,1,2,5,7,9,11,14,15,16,
	17,22,26,30,34,35,38,39,41,43,
	47,49,51,53,57,63,69,73,74,77,
	78,79,82,83,85,87,89,91,93,95,
    98,101,104,105,108,111,113,115,117,120,
    122,124,126
};
